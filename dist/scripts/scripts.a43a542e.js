"use strict";angular.module("quizApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router"]).run(["$rootScope","$log",function(a,b){a.$log=b}]).config(["$stateProvider","$routeProvider",function(a,b){b.otherwise("/"),a.state("main",{url:"/",templateUrl:"views/main.html"}).state("questionsLength",{url:"/questions-length",templateUrl:"views/questions-length.html",controller:"QuestionsLengthCtrl"}).state("level",{url:"/level",templateUrl:"views/level.html",controller:"LevelCtrl"}).state("question",{url:"/question",templateUrl:"views/question.html",controller:"QuestionCtrl"}).state("completed",{url:"/completed",templateUrl:"views/completed.html",controller:"CompletedCtrl"})}]),angular.module("quizApp").controller("MainCtrl",["$scope",function(){}]),angular.module("quizApp").controller("QuestionsLengthCtrl",["$scope","$state","QuizConfig",function(a,b,c){function d(a){c.setQuestionsLength(a),b.go("question")}a.quizLength=[2,4,5],a.setQuestionsLength=d}]),angular.module("quizApp").controller("LevelCtrl",["$scope","$state","QuizConfig",function(a,b,c){function d(a){c.setLevel(a),b.go("questionsLength")}a.levels=[{id:0,name:"Newbie"},{id:1,name:"Intermediate"},{id:2,name:"Pro"}],a.setLevel=d}]),angular.module("quizApp").controller("QuestionCtrl",["$scope","$state","CorrectAnswers","Questions","QuizConfig",function(a,b,c,d,e){function f(){g(),k=_.without(k,l),k.length?(l=_.sample(k),a.current=j[l],a.currentQuestionStep++,a.selectedAnswer=null):(c.save(m,j.length),b.go("completed"))}function g(){a.selectedAnswer==a.current.correctAnswer&&m.push(l)}function h(b){a.selectedAnswer=b}var i=e.get(),j=d.get(i.questionsQuantity),k=_.range(j.length),l=_.sample(k),m=[];a.indexes=k,a.current=j[l],a.currentQuestionStep=0,a.selectedAnswer=null,a.selectAnswer=h,a.nextQuestion=f}]).directive("breadcrumb",[function(){return{restrict:"E",scope:{activeClass:"@",steps:"=",currentStep:"="},templateUrl:"views/breadcrumb.html"}}]),angular.module("quizApp").controller("CompletedCtrl",["$scope","CorrectAnswers","$state",function(a,b,c){var d=b.get();if(d.correct){var e=d.correct.length,f=d.totalQuestions,g={success:{"class":"success",text:"Flawless!"},good:{"class":"info",text:"Good work!"},regular:{"class":"warning",text:"Try a lower level."},bad:{"class":"danger",text:"Are you ok?"}};a.result={correct:e,total:f,percent:e/f*100},e?e>f/2?(a.result.status=g.good,e==f&&(a.result.status=g.success)):f/2>=e&&(a.result.status=g.regular):a.result.status=g.bad}else c.go("level")}]),angular.module("quizApp").controller("BreadcrumbCtrl",["$scope",function(){}]),angular.module("quizApp").factory("CorrectAnswers",function(){var a={};return{get:function(){return a},save:function(b,c){a.correct=b,a.totalQuestions=c}}}),angular.module("quizApp").factory("Questions",function(){var a=[{content:"How is an angular module defined?",answers:['angular.module("moduleName", [])','angular.module("moduleName")','angular("moduleName")'],correctAnswer:0,score:10,level:0},{content:'Why is the project called "AngularJS"?',answers:["Is the last name of its creator","Because HTML has Angular brackets","Is the name of the dog of its creator"],correctAnswer:1,score:10,level:0},{content:"What is a scope in AngularJS?",answers:["Is an object that refers to the application model.","It is the glue between application controller and the view.","It is an execution context for expressions and arranged in hierarchical structure.","All of the above."],correctAnswer:3,score:10,level:1},{content:"How many root scopes an Angular application have?",answers:["Only one.","None.","All those created by the app developer."],correctAnswer:0,score:10,level:1},{content:"What Angular built-in directive would you use to loop through a collection and list each item?",answers:["ngLoop","ngRepeat.","ngCollection"],correctAnswer:1,score:10,level:1}];return{get:function(b){return b?_.first(a,b):a}}}),angular.module("quizApp").factory("QuizConfig",function(){var a={questionsQuantity:5,level:"easy"};return{get:function(){return a},setLevel:function(b){a.level=b},setQuestionsLength:function(b){a.questionsQuantity=b}}});